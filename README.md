# Generating RSS Feed for opened wall of user or community (group, public page or event page) on vk.com
# Генерация RSS-ленты открытой стены пользователя или сообщества (группы, публичной страницы или мероприятия) во Вконтакте.

## Требования
* PHP>=5.2.2 с установленными по умолчанию поставляемыми расширениями mbstring, json, pcre.
* Для отправки запросов через HTTPS должны быть установлны OpenSSL и расширение `openssl` у PHP. 
* Скрипт предпочитает использовать встроенные в PHP возможности по отправке запросов. Если у PHP отключена встроенная возможность загрузки файлов по URL (отключен параметр `allow_url_fopen` в конфигурации или параметрах интерпретатора), но при этом у PHP установлено расширение `cURL`, то именно оно будет использоваться для загрузки файлов. 

В случае каких-либо проблем вместо RSS-ленты выдается страница с HTTP-статусом, отличным от 200, и с описанием проблемы.

## Возможности:
* получение RSS-ленты открытых стен (не требующих авторизации): извлечение описания из разных частей (включая вложенные) и построение заголовков на основе описания
* фильтрация постов по соответствию и/или несоответствию регулярному выражению в стиле PCRE
* извлечение хеш-тегов в качестве RSS-категорий

## Параметры:
* [обязательный] `id` — короткое название, ID-номер (в случае сообщества ID начинается со знака `-`) или полный идентификатор человека/сообщества (в виде idXXXX, clubXXXX, publicXXXX, eventXXXX).  Примеры допустимых значений параметра `id`:
  * `123456`, `id123456` — оба значения указывают на одну и ту же страницу пользователя с ID 123456,
  * `-123456`, `club123456` — оба значения указывают на одну и ту же группу с ID 123456,
  * `-123456`, `public123456` — оба значения указывают на одну и ту же публичную страницу с ID 123456,
  * `-123456`, `event123456` — оба значения указывают на одну и ту же страницу мероприятия с ID 123456,
  * `apiclub` — значение указывает на пользователя или сообщество с данным коротким названием.
  
  Ради обратной совместимости допускается вместо `id` использовать `domain` или `owner_id`.
* `count` — количество выводимых записей, начиная с последней опубликованной (не более 100, по умолчанию 20).
* `include` — регистронезависимое регулярное выражение в стиле PCRE, которое должно соответствовать тексту записи. В начале и в конце выражения символ `/` **не** нужен.
* `exclude` — регистронезависимое регулярное выражение в стиле PCRE, которое **не** должно соответствовать тексту записи. В начале и в конце выражения символ `/` **не** нужен.


## Примеры использования:
```
index.php?id=apiclub
index.php?id=-1
index.php?id=id1
index.php?id=club1
index.php?id=apiclub&count=100&include=рекомендуем
index.php?id=-1&count=100&include=(рекомендуем|приглашаем|\d{3,})
```
Примечание: в последнем примере при таком вызове напрямую через GET-параметры может потребоваться кодирование символов: ```index.php?id=-1&count=100&include=(%D1%80%D0%B5%D0%BA%D0%BE%D0%BC%D0%B5%D0%BD%D0%B4%D1%83%D0%B5%D0%BC%7C%D0%BF%D1%80%D0%B8%D0%B3%D0%BB%D0%B0%D1%88%D0%B0%D0%B5%D0%BC%7C%5Cd%7B3%2C%7D)```
